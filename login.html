<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign In - SEOTIZE | AI SEO Platform</title>
    <meta name="description" content="Sign in to your SEOTIZE account and access powerful AI SEO tools to boost your website rankings.">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.0.0/fonts/remixicon.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/TextPlugin.min.js"></script>
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
    <style>
        *{margin:0;padding:0;box-sizing:border-box}:root{--bg:#ffffff;--bg-light:#f8fafc;--bg-dark:#0f172a;--text:#1e293b;--text-light:#64748b;--text-muted:#94a3b8;--border:#e2e8f0;--primary:#2563eb;--card-bg:#ffffff;--nav-bg:rgba(255,255,255,0.95);--success:#059669;--error:#dc2626;--radius:12px;--radius-sm:8px;--transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1)}body.dark{--bg:#0f172a;--bg-light:#1e293b;--text:#f1f5f9;--text-light:#cbd5e1;--text-muted:#94a3b8;--border:#334155;--card-bg:#1e293b;--nav-bg:rgba(15,23,42,0.95)}body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);line-height:1.6;transition:var(--transition);overflow-x:hidden;min-height:100vh}nav{position:fixed;top:0;width:100%;padding:.75rem 1.5rem;background:var(--nav-bg);backdrop-filter:blur(10px);border-bottom:1px solid var(--border);z-index:100;transition:var(--transition)}nav>div{max-width:1400px;margin:0 auto;display:flex;justify-content:space-between;align-items:center}.logo{font-size:1.3rem;font-weight:800;color:var(--primary);text-decoration:none}.nav-links{display:flex;list-style:none;gap:1.5rem}.nav-links a{text-decoration:none;color:var(--text);font-weight:500;transition:color .2s ease;font-size:.9rem}.nav-links a:hover{color:var(--primary)}.nav-actions{display:flex;gap:.75rem;align-items:center}.theme-toggle{background:var(--bg-light);border:1px solid var(--border);padding:.4rem .6rem;border-radius:6px;cursor:pointer;transition:var(--transition);color:var(--text);font-size:1.1rem}.theme-toggle:hover{transform:scale(1.05)}.mobile-menu-toggle{display:none;background:var(--bg-light);border:1px solid var(--border);padding:.4rem .6rem;border-radius:6px;cursor:pointer;color:var(--text);font-size:1.1rem}.main-container{min-height:100vh;display:flex;padding-top:60px}.content-pane{flex:1;background:linear-gradient(135deg,var(--bg-light),var(--bg));display:flex;flex-direction:column;justify-content:center;align-items:center;padding:2rem 1rem;position:relative;overflow:hidden}.login-pane{flex:1;background:var(--card-bg);display:flex;align-items:center;justify-content:center;padding:2rem 1rem;position:relative;overflow-y:auto}.content-showcase{text-align:center;max-width:450px;position:relative;z-index:10}.showcase-image{width:clamp(200px,25vw,280px);height:clamp(200px,25vw,280px);border-radius:20px;margin-bottom:1.5rem;box-shadow:0 15px 30px rgba(37,99,235,.15);transition:var(--transition);object-fit:cover}.showcase-title{font-size:clamp(1.8rem,4vw,2.2rem);font-weight:800;color:var(--text);margin-bottom:1rem;line-height:1.2}.showcase-text{font-size:clamp(1rem,2.5vw,1.1rem);color:var(--text-light);margin-bottom:1.5rem;min-height:50px;display:flex;align-items:center;justify-content:center}.typewriter-cursor{display:inline-block;width:2px;height:1.2em;background:var(--primary);margin-left:2px;animation:blink 1s infinite}@keyframes blink{0%,50%{opacity:1}51%,100%{opacity:0}}.login-card{background:var(--card-bg);padding:clamp(1.5rem,4vw,2.5rem);border-radius:16px;border:1px solid var(--border);box-shadow:0 15px 25px rgba(0,0,0,.1);width:100%;max-width:420px;position:relative;margin:auto}.login-header{text-align:center;margin-bottom:1.5rem}.login-header h1{font-size:clamp(1.6rem,4vw,2rem);font-weight:800;color:var(--text);margin-bottom:.5rem}.login-header p{color:var(--text-light);font-size:clamp(.9rem,2.5vw,1rem)}.form-group{margin-bottom:1.2rem;position:relative}.form-label{display:block;margin-bottom:.5rem;font-weight:600;color:var(--text);font-size:.9rem}.form-input{width:100%;padding:.9rem 1rem;border:2px solid var(--border);border-radius:var(--radius-sm);font-size:.95rem;background:var(--bg-light);color:var(--text);transition:var(--transition)}.form-input:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(37,99,235,.1);background:var(--card-bg)}.form-input.error{border-color:var(--error);background:rgba(220,38,38,.05)}.form-input.success{border-color:var(--success);background:rgba(5,150,105,.05)}.input-icon{position:absolute;right:.8rem;top:2.4rem;color:var(--text-muted);font-size:.9rem}.input-icon.success{color:var(--success)}.input-icon.error{color:var(--error)}.captcha-container{margin:1.2rem 0;display:flex;justify-content:center;min-height:65px}.form-options{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;font-size:.85rem;flex-wrap:wrap;gap:.5rem}.remember-me{display:flex;align-items:center;gap:.5rem;cursor:pointer;user-select:none}.checkbox{width:16px;height:16px;border:2px solid var(--border);border-radius:4px;cursor:pointer;position:relative;transition:var(--transition)}.checkbox.checked{background:var(--primary);border-color:var(--primary)}.checkbox.checked::after{content:'✓';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:white;font-size:10px;font-weight:bold}.forgot-link{color:var(--primary);text-decoration:none;transition:color .2s ease;white-space:nowrap}.forgot-link:hover{color:#1e40af}.login-btn{width:100%;padding:1rem 1.5rem;background:var(--primary);color:white;border:none;border-radius:var(--radius-sm);font-size:.95rem;font-weight:600;cursor:pointer;transition:var(--transition);display:flex;align-items:center;justify-content:center;gap:.5rem}.login-btn:hover{background:#1e40af;transform:translateY(-1px)}.login-btn.loading{pointer-events:none;opacity:.8}.spinner{width:14px;height:14px;border:2px solid transparent;border-top:2px solid white;border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.divider{display:flex;align-items:center;margin:1.5rem 0;color:var(--text-muted);font-size:.85rem}.divider::before,.divider::after{content:'';flex:1;height:1px;background:var(--border)}.divider span{padding:0 1rem}.social-btn{width:100%;padding:.85rem 1rem;background:var(--bg-light);border:1px solid var(--border);border-radius:var(--radius-sm);cursor:pointer;transition:var(--transition);display:flex;align-items:center;justify-content:center;gap:.5rem;font-size:.9rem;font-weight:500;color:var(--text);text-decoration:none;margin-bottom:.75rem}.social-btn:hover{background:var(--card-bg);border-color:var(--primary);transform:translateY(-1px)}.signup-link{text-align:center;color:var(--text-light);font-size:.9rem;margin-top:.5rem}.signup-link a{color:var(--primary);text-decoration:none;font-weight:600}.signup-link a:hover{color:#1e40af}.mobile-nav{display:none;position:fixed;bottom:0;left:0;right:0;background:var(--card-bg);border-top:1px solid var(--border);z-index:100;padding:.5rem;box-shadow:0 -2px 10px rgba(0,0,0,.1)}.mobile-nav-items{display:flex;justify-content:space-around;align-items:center;max-width:600px;margin:0 auto}.mobile-nav-item{display:flex;flex-direction:column;align-items:center;gap:.25rem;padding:.5rem;color:var(--text-light);text-decoration:none;font-size:.7rem;transition:var(--transition);border-radius:var(--radius-sm);flex:1;text-align:center;cursor:pointer;background:transparent;border:none}.mobile-nav-item:active{transform:scale(0.95)}.mobile-nav-item.active{color:var(--primary);background:rgba(37,99,235,.1)}.mobile-nav-item i{font-size:1.25rem;color:inherit}.mobile-menu-overlay{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:998;opacity:0;visibility:hidden;transition:var(--transition)}.mobile-menu-overlay.active{opacity:1;visibility:visible}.mobile-menu{position:fixed;top:0;left:-100%;bottom:0;width:85%;max-width:320px;background:var(--card-bg);transition:left 0.3s ease;z-index:999;overflow-y:auto;box-shadow:4px 0 10px rgba(0,0,0,.1)}.mobile-menu.active{left:0}.mobile-menu-header{padding:1.5rem;background:var(--primary);color:white;display:flex;justify-content:space-between;align-items:center}.mobile-menu-close{background:none;border:none;font-size:1.5rem;color:white;cursor:pointer;padding:.25rem}.mobile-menu-content{padding:1rem}.mobile-menu-links{list-style:none;display:flex;flex-direction:column;gap:.5rem}.mobile-menu-links li{margin:0}.mobile-menu-links a{text-decoration:none;color:var(--text);font-size:1rem;font-weight:500;display:flex;align-items:center;gap:.75rem;padding:.875rem 1rem;background:var(--bg-light);border-radius:var(--radius-sm);transition:var(--transition)}.mobile-menu-links a:hover{color:var(--primary);background:rgba(37,99,235,.1)}.mobile-menu-links a i{font-size:1.25rem}.notification{position:fixed;top:80px;right:1rem;padding:.875rem 1.25rem;border-radius:var(--radius-sm);color:white;font-weight:500;transform:translateX(calc(100% + 1rem));transition:var(--transition);z-index:1000;font-size:.9rem;box-shadow:0 4px 12px rgba(0,0,0,.2)}.notification.success{background:var(--success)}.notification.error{background:var(--error)}.notification.show{transform:translateX(0)}@media(max-width:1200px){.main-container{flex-direction:column;padding-top:60px}.content-pane{flex:none;min-height:35vh;padding:1.5rem 1rem}.login-pane{flex:1;min-height:65vh;padding:1.5rem 1rem}.login-card{max-width:380px}}@media(max-width:768px){nav{padding:.625rem 1rem}.nav-links{display:none}.mobile-menu-toggle{display:block}.mobile-nav{display:block}.content-pane{display:none}.login-pane{min-height:calc(100vh - 60px);height:auto;padding:2rem 1rem 80px 1rem}.login-card{padding:1.75rem;max-width:95vw;margin:auto}.main-container{padding-top:60px;min-height:100vh}}@media(max-width:480px){nav{padding:.5rem .875rem}.logo{font-size:1.15rem}.theme-toggle,.mobile-menu-toggle{padding:.35rem .5rem;font-size:1rem}.login-card{padding:1.5rem 1.25rem;max-width:calc(100vw - 2rem)}.login-header h1{font-size:1.5rem}.form-input{padding:.825rem .875rem;font-size:.9rem}.form-label{font-size:.85rem}.captcha-container{transform:scale(0.95);transform-origin:center}.mobile-nav-item{font-size:.65rem;padding:.4rem}.mobile-nav-item i{font-size:1.15rem}.notification{right:.5rem;padding:.75rem 1rem;font-size:.85rem;max-width:calc(100vw - 1rem)}}@media(max-width:380px){.login-card{padding:1.25rem 1rem}.form-input{padding:.75rem;font-size:.875rem}.login-btn{padding:.875rem 1rem}.social-btn{padding:.75rem}.form-options{font-size:.8rem}.mobile-nav{padding:.375rem}.mobile-nav-item{padding:.35rem;font-size:.6rem}.mobile-nav-item i{font-size:1.1rem}}@media(max-height:700px)and(min-width:769px){.content-pane{min-height:30vh;padding:1rem}.login-pane{min-height:70vh;padding:1rem}.showcase-image{width:clamp(150px,20vw,220px);height:clamp(150px,20vw,220px)}}@media(max-height:600px)and(min-width:769px){.content-pane{display:none}.login-pane{min-height:calc(100vh - 60px);padding:1rem}.login-card{padding:1.5rem}}@media(max-height:650px)and(max-width:768px){.login-card{padding:1.25rem}.login-header{margin-bottom:1rem}.form-group{margin-bottom:1rem}.captcha-container{margin:.875rem 0}.divider{margin:1rem 0}}@media(orientation:landscape)and(max-height:500px){.login-pane{padding:1rem 1rem 60px 1rem}.login-card{padding:1rem;max-width:90vw}.login-header{margin-bottom:.75rem}.login-header h1{font-size:1.25rem}.login-header p{font-size:.85rem}.form-group{margin-bottom:.875rem}.form-label{margin-bottom:.25rem}.form-input{padding:.65rem}.captcha-container{margin:.75rem 0;transform:scale(0.9)}.form-options{margin-bottom:1rem}.divider{margin:1rem 0}.social-btn{padding:.65rem}.mobile-nav{padding:.25rem}.mobile-nav-item{padding:.25rem;gap:.125rem}.mobile-nav-item i{font-size:1rem}.mobile-nav-item span{font-size:.6rem}}
    </style>
</head>
<body>
    <nav><div><a href="index.html" class="logo">SEOTIZE</a><ul class="nav-links"><li><a href="index.html">Home</a></li><li><a href="index.html#features">Features</a></li><li><a href="index.html#about">About</a></li><li><a href="blogs.html">Blog</a></li></ul><div class="nav-actions"><button class="theme-toggle" onclick="toggleTheme()">🌙</button><button class="mobile-menu-toggle" onclick="toggleMobileMenu()">☰</button></div></div></nav>

    <!-- Mobile Side Menu -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay" onclick="closeMobileMenu()"></div>
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-header">
            <span class="logo">SEOTIZE</span>
            <button class="mobile-menu-close" onclick="closeMobileMenu()">✕</button>
        </div>
        <div class="mobile-menu-content">
            <ul class="mobile-menu-links">
                <li><a href="index.html"><i class="ri-home-line"></i> Home</a></li>
                <li><a href="index.html#features"><i class="ri-star-line"></i> Features</a></li>
                <li><a href="index.html#about"><i class="ri-information-line"></i> About</a></li>
                <li><a href="blogs.html"><i class="ri-article-line"></i> Blog</a></li>
                <li><a href="register.html"><i class="ri-user-add-line"></i> Sign Up</a></li>
            </ul>
        </div>
    </div>

    <main class="main-container">
        <section class="content-pane">
            <div class="content-showcase">
                <img id="showcaseImage" class="showcase-image" src="https://image-worker.cranko.cloud/placeholder/280/280?text=Welcome&color=2563eb" alt="Welcome">
                <h1 class="showcase-title">Welcome Back to <span style="color: var(--primary);">SEOTIZE</span></h1>
                <div class="showcase-text" id="typewriterText">Your SEO dashboard awaits<span class="typewriter-cursor"></span></div>
            </div>
        </section>

        <section class="login-pane">
            <div class="login-card">
                <div class="login-header"><h1>Welcome Back</h1><p>Sign in to your SEOTIZE account</p></div>
                <form id="loginForm">
                    <div class="form-group">
                        <label class="form-label" for="email">Email Address</label>
                        <input type="email" id="email" class="form-input" placeholder="Enter your email" required>
                        <div class="input-icon" id="emailIcon"></div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="password">Password</label>
                        <input type="password" id="password" class="form-input" placeholder="Enter your password" required>
                        <div class="input-icon" id="passwordIcon"></div>
                    </div>
                    <div class="captcha-container">
                        <div class="cf-turnstile" data-sitekey="0x4AAAAAABi0oSEk-fxks-xg" data-callback="onCaptchaSuccess"></div>
                    </div>
                    <div class="form-options">
                        <label class="remember-me" onclick="toggleCheckbox()"><div class="checkbox" id="checkbox"></div><span>Remember me</span></label>
                        <a href="forgot-password.html" class="forgot-link">Forgot password?</a>
                    </div>
                    <button type="submit" class="login-btn" id="loginBtn">Sign In</button>
                </form>
                <div class="divider"><span>or continue with</span></div>
                <a href="https://api.seotize.net/login/google" class="social-btn"><span>🌐</span> Google</a>
                <div class="signup-link">Don't have an account? <a href="register.html">Sign up</a></div>
            </div>
        </section>
    </main>

    <!-- Mobile Bottom Navigation -->
    <nav class="mobile-nav" id="mobileNav">
        <div class="mobile-nav-items">
            <a href="index.html" class="mobile-nav-item">
                <i class="ri-home-line"></i>
                <span>Home</span>
            </a>
            <a href="index.html#features" class="mobile-nav-item">
                <i class="ri-star-line"></i>
                <span>Features</span>
            </a>
            <a href="blogs.html" class="mobile-nav-item">
                <i class="ri-article-line"></i>
                <span>Blog</span>
            </a>
            <button class="mobile-nav-item active" disabled>
                <i class="ri-login-box-line"></i>
                <span>Login</span>
            </button>
            <button class="mobile-nav-item" onclick="openMobileMenu()">
                <i class="ri-menu-line"></i>
                <span>More</span>
            </button>
        </div>
    </nav>

    <div class="notification" id="notification"></div>

    <script>
        gsap.registerPlugin(TextPlugin);
        const API_BASE='https://api.seotize.net';
        const texts=['Your SEO dashboard awaits','Track rankings and boost traffic','AI-powered tools ready to work'];
        let currentText=0,isRemembered=false,captchaToken=null;

        function onCaptchaSuccess(token){captchaToken=token}

        function init(){
            gsap.fromTo('.content-showcase',{opacity:0,x:-30},{opacity:1,x:0,duration:.6});
            gsap.fromTo('.login-card',{opacity:0,x:30},{opacity:1,x:0,duration:.6,delay:.2});
            typeText();
            setInterval(()=>{currentText=(currentText+1)%texts.length;typeText()},4000)
        }

        function typeText(){
            const el=document.getElementById('typewriterText');
            el.innerHTML='<span class="typewriter-cursor"></span>';
            gsap.to(el,{duration:texts[currentText].length*.04,text:{value:texts[currentText]},onUpdate:()=>{if(!el.innerHTML.includes('typewriter-cursor'))el.innerHTML+='<span class="typewriter-cursor"></span>'}})
        }

        function validateField(input){
            const value=input.value.trim();
            const icon=input.nextElementSibling;
            if(input.type==='email'){
                const valid=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value);
                input.className=`form-input ${value?valid?'success':'error':''}`;
                icon.innerHTML=value?valid?'✓':'✗':'';
                icon.className=`input-icon ${value?valid?'success':'error':''}`
            }else{
                const valid=value.length>=8;
                input.className=`form-input ${value?valid?'success':'error':''}`;
                icon.innerHTML=value?valid?'✓':'✗':'';
                icon.className=`input-icon ${value?valid?'success':'error':''}`
            }
        }

        function toggleCheckbox(){
            isRemembered=!isRemembered;
            document.getElementById('checkbox').classList.toggle('checked',isRemembered)
        }

        async function handleLogin(e){
            e.preventDefault();
            const email=document.getElementById('email').value.trim();
            const password=document.getElementById('password').value.trim();
            const btn=document.getElementById('loginBtn');

            if(!email||!password){showNotification('Please fill in all fields','error');return}
            if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)){showNotification('Invalid email','error');return}
            if(password.length<8){showNotification('Password too short','error');return}
            if(!captchaToken){showNotification('Please complete captcha','error');return}

            btn.classList.add('loading');
            btn.innerHTML='<div class="spinner"></div>Signing in...';

            try{
                const res=await fetch(`${API_BASE}/login`,{
                    method:'POST',
                    headers:{'Content-Type':'application/json'},
                    body:JSON.stringify({email,password,'cf-turnstile-response':captchaToken})
                });
                const data=await res.json();

                btn.classList.remove('loading');
                btn.innerHTML='Sign In';

                if(data.status==='success'){
                    // If you want the "Remember me" checkbox to work, you can pass a number of days.
                    // For now, we'll create a session cookie that expires when the browser closes.
                    const duration = isRemembered ? 7 : null; // e.g., 7 days if remembered
                    setCookie('session_token', data.data.session_token, duration); 
                    showNotification('Login successful!','success');
                    setTimeout(()=>window.location.href='/dashboard',1000)
                }else{
                    showNotification(data.error?.message||'Login failed','error');
                    captchaToken=null;
                    if(window.turnstile)window.turnstile.reset()
                }
            }catch(err){
                btn.classList.remove('loading');
                btn.innerHTML='Sign In';
                showNotification('Network error','error');
                captchaToken=null;
                if(window.turnstile)window.turnstile.reset()
            }
        }

        function showNotification(msg,type){
            const n=document.getElementById('notification');
            n.textContent=msg;
            n.className=`notification ${type} show`;
            setTimeout(()=>n.classList.remove('show'),3000)
        }

        function openMobileMenu(){
            const menu=document.getElementById('mobileMenu');
            const overlay=document.getElementById('mobileMenuOverlay');
            menu.classList.add('active');
            overlay.classList.add('active');
            document.body.style.overflow='hidden'
        }

        function closeMobileMenu(){
            const menu=document.getElementById('mobileMenu');
            const overlay=document.getElementById('mobileMenuOverlay');
            menu.classList.remove('active');
            overlay.classList.remove('active');
            document.body.style.overflow=''
        }

        function toggleMobileMenu(){
            const menu=document.getElementById('mobileMenu');
            if(menu.classList.contains('active')){
                closeMobileMenu()
            }else{
                openMobileMenu()
            }
        }

        function toggleTheme(){
            document.body.classList.toggle('dark');
            const toggle=document.querySelector('.theme-toggle');
            const isDark=document.body.classList.contains('dark');
            toggle.textContent=isDark?'☀️':'🌙';
            localStorage.setItem('theme',isDark?'dark':'light')
        }

        function loadTheme(){
            if(localStorage.getItem('theme')==='dark'){
                document.body.classList.add('dark');
                document.querySelector('.theme-toggle').textContent='☀️'
            }
        }

        document.getElementById('email').addEventListener('input',e=>validateField(e.target));
        document.getElementById('password').addEventListener('input',e=>validateField(e.target));
        document.getElementById('loginForm').addEventListener('submit',handleLogin);
        document.addEventListener('DOMContentLoaded',()=>{
    // First, check if the user is already logged in.
    if (getCookie('session_token')) {
        // If token exists, go directly to the dashboard.
        window.location.href = '/dashboard'; 
        return; // Stop further execution of login page scripts.
    }

    // If not logged in, proceed with loading the theme and animations.
    loadTheme();
    init();
});
    </script>
<script>
function setCookie(name, value, days) {
    let expires = "";
    if (days) {
        const date = new Date();
        // The dashboard script uses 'session_token', so we will set a session cookie (expires when browser closes)
        // by not setting an expiry date. If you wanted it to persist, you'd uncomment the next two lines.
        // date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
        // expires = "; expires=" + date.toUTCString();
    }
    // Using SameSite=Lax for better security. Path=/ makes it available across the site.
    document.cookie = name + "=" + (value || "")  + expires + "; path=/; SameSite=Lax";
}

function getCookie(name) {
    const nameEQ = name + "=";
    const ca = document.cookie.split(';');
    for(let i=0; i < ca.length; i++) {
        let c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
}
</script>
</body>
</html>
